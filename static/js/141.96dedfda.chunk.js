"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[141],{8530:function(r,n,e){e.d(n,{Hx:function(){return f},Tg:function(){return o},bV:function(){return i},d$:function(){return l},eb:function(){return p},uV:function(){return v}});var t=e(5861),a=e(7757),u=e.n(a),c=e(4569),s=e.n(c)().create({baseURL:"https://api.themoviedb.org/3/",params:{api_key:"45b0b261b921954ac82a34bd1131a569"}}),i="https://image.tmdb.org/t/p/w500",o=function(){var r=(0,t.Z)(u().mark((function r(){var n,e;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s.get("/trending/all/day",{parans:{page:1}});case 2:return n=r.sent,e=n.data,r.abrupt("return",e);case 5:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),f=function(){var r=(0,t.Z)(u().mark((function r(n){var e,t;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s.get("/movie/".concat(n,"/reviews"));case 2:return e=r.sent,t=e.data,r.abrupt("return",t);case 5:case"end":return r.stop()}}),r)})));return function(n){return r.apply(this,arguments)}}(),p=function(){var r=(0,t.Z)(u().mark((function r(n){var e,t;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s.get("/movie/".concat(n));case 2:return e=r.sent,t=e.data,r.abrupt("return",t);case 5:case"end":return r.stop()}}),r)})));return function(n){return r.apply(this,arguments)}}(),l=function(){var r=(0,t.Z)(u().mark((function r(n){var e,t;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s.get("search/movie/",{params:{query:n}});case 2:return e=r.sent,t=e.data,r.abrupt("return",t);case 5:case"end":return r.stop()}}),r)})));return function(n){return r.apply(this,arguments)}}(),v=function(){var r=(0,t.Z)(u().mark((function r(n){var e,t;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s.get("/movie/".concat(n,"/credits"));case 2:return e=r.sent,t=e.data,r.abrupt("return",t);case 5:case"end":return r.stop()}}),r)})));return function(n){return r.apply(this,arguments)}}()},2450:function(r,n,e){e.d(n,{Z:function(){return i}});var t=e(501),a=e(6871),u="link_link__FSGQv",c=e(184),s=function(r){var n=r.movies,e=(0,a.TH)(),s=n.map((function(r){var n=r.id,a=r.title,s=r.original_name;return(0,c.jsxs)("li",{className:u,children:[a&&(0,c.jsx)(t.rU,{state:{from:e},to:"/movies/".concat(n),children:a}),!a&&(0,c.jsx)(t.rU,{state:{from:e},to:"/movies/".concat(n),children:s})]},n)}));return(0,c.jsx)(c.Fragment,{children:Boolean(n.length)&&(0,c.jsx)("ul",{children:s})})},i=s;s.dafaultProps={movies:[]}},2141:function(r,n,e){e.r(n),e.d(n,{default:function(){return g}});var t=e(1413),a=e(5861),u=e(885),c=e(7757),s=e.n(c),i=e(2791),o=e(501),f=e(8530),p=e(4942),l="search_search__BXxCx",v="search_input__ecYcl",m="search_button__QCMOL",d=e(184),h=function(r){var n=r.onSubmit,e=(0,i.useState)({query:""}),a=(0,u.Z)(e,2),c=a[0],s=a[1];return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("form",{action:"",className:l,onSubmit:function(r){r.preventDefault(),n((0,t.Z)({},c)),s({query:""})},children:[(0,d.jsx)("input",{value:c.query,name:"query",onChange:function(r){var n=r.target,e=n.name,a=n.value;s((function(r){return(0,t.Z)((0,t.Z)({},r),{},(0,p.Z)({},e,a))}))},type:"text",placeholder:"Movie",className:v}),(0,d.jsx)("button",{className:m,children:"Search"})]})})},x=e(2450),g=function(){var r=(0,i.useState)({items:[],loading:!1,error:null}),n=(0,u.Z)(r,2),e=n[0],c=n[1],p=(0,o.lr)(),l=(0,u.Z)(p,2),v=l[0],m=l[1],g=v.get("query");(0,i.useEffect)((function(){var r=function(){var r=(0,a.Z)(s().mark((function r(){var n;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c((function(r){return(0,t.Z)((0,t.Z)({},r),{},{loading:!0})})),r.prev=1,r.next=4,(0,f.d$)(g);case 4:n=r.sent,console.log(n.results),c((function(r){return(0,t.Z)((0,t.Z)({},r),{},{loading:!1,items:n.results})})),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1),c((function(n){return(0,t.Z)((0,t.Z)({},n),{},{loading:!1,error:r.t0.message})}));case 12:case"end":return r.stop()}}),r,null,[[1,9]])})));return function(){return r.apply(this,arguments)}}();g&&r()}),[g]);var b=e.items,Z=e.loading,w=e.error;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(h,{onSubmit:function(r){var n=r.query;return m({query:n})}}),Z&&(0,d.jsx)("p",{children:"Loading..."}),(0,d.jsx)(x.Z,{movies:b}),w&&(0,d.jsx)("p",{children:w})]})}}}]);
//# sourceMappingURL=141.96dedfda.chunk.js.map