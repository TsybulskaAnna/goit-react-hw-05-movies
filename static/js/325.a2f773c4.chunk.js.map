{"version":3,"file":"static/js/325.a2f773c4.chunk.js","mappings":"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","sources":["api/fetchAPI.js","webpack://react-homework-template/./src/pages/MovieDetailsPage/movieDetailsPage.module.css?c394","pages/MovieDetailsPage/MovieDetailsPage.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst api = axios.create({\n  baseURL: 'https://api.themoviedb.org/3/',\n  params: {\n    api_key: '45b0b261b921954ac82a34bd1131a569',\n  },\n});\n\nexport const IMG_URL = 'https://image.tmdb.org/t/p/w500';\n\nexport const fetchTrending = async () => {\n  const { data } = await api.get('/trending/all/day', {\n    parans: {\n      page: 1,\n    },\n  });\n  return data;\n};\nexport const fetchMovieReviews = async id => {\n  const { data } = await api.get(`/movie/${id}/reviews`);\n  return data;\n};\nexport const fetchMovieID = async id => {\n  const { data } = await api.get(`/movie/${id}`);\n  return data;\n};\nexport const fechMovieByQuery = async query => {\n  const { data } = await api.get(`search/movie/`, {\n    params: {\n      query,\n    },\n  });\n  return data;\n};\nexport const fetchMovieCast = async id => {\n  const { data } = await api.get(`/movie/${id}/credits`);\n  return data;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"goBack\":\"movieDetailsPage_goBack__gAebg\",\"wrapper\":\"movieDetailsPage_wrapper__kmPut\",\"about\":\"movieDetailsPage_about__vqkbY\",\"score\":\"movieDetailsPage_score__MK4dr\",\"overwiev\":\"movieDetailsPage_overwiev__QSdyG\",\"genresTitle\":\"movieDetailsPage_genresTitle__sJZRH\",\"genres\":\"movieDetailsPage_genres__LiaVf\",\"info\":\"movieDetailsPage_info__G9PsW\",\"links\":\"movieDetailsPage_links__AVOFn\",\"genresItem\":\"movieDetailsPage_genresItem__qaqEt\",\"link\":\"movieDetailsPage_link__ZHtlQ\"};","import { useState, useEffect } from 'react';\nimport {\n  Link,\n  useParams,\n  useNavigate,\n  useLocation,\n  Outlet,\n} from 'react-router-dom';\n\nimport { fetchMovieID } from 'api/fetchAPI';\nimport { IMG_URL } from 'api/fetchAPI';\n\nimport s from './movieDetailsPage.module.css';\n\nconst MovieDetailsPage = () => {\n  const [data, setData] = useState({\n    movie: {},\n    loading: false,\n    error: null,\n  });\n  const { id } = useParams();\n  /* const IMG_URL = 'https://image.tmdb.org/t/p/w500'; */\n\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  const from = location?.state?.from || '/';\n  const goBack = () => navigate(from);\n\n  useEffect(() => {\n    const fetchMovie = async () => {\n      setData(prev => ({\n        ...prev,\n        loading: true,\n      }));\n      try {\n        const data = await fetchMovieID(id);\n        setData(prev => ({\n          ...prev,\n          movie: data,\n          loading: false,\n        }));\n      } catch (err) {\n        setData(prev => ({ ...prev, loading: false, error: err.message }));\n      }\n    };\n    fetchMovie();\n  }, [id]);\n\n  const { movie, loading, error } = data;\n\n  const { poster_path, title, vote_average, overview, genres } = movie;\n\n  return (\n    <>\n      <button className={s.goBack} onClick={goBack}>\n        &#8617; Go back\n      </button>\n      {loading && <p>...Loading</p>}\n      {movie && (\n        <>\n          <div className={s.wrapper}>\n            <img src={IMG_URL + poster_path} alt={title} className={s.img} />\n            <div className={s.about}>\n              <h2>{title}</h2>\n              <p className={s.score}> User score: {vote_average * 10}%</p>\n              <h3>Overview</h3>\n              <p className={s.overwiev}>{overview}</p>\n              <h3 className={s.genresTitle}>Genres</h3>\n              <p>\n                {genres &&\n                  genres.map(el => (\n                    <span className={s.genresItem} key={el.id}>\n                      {el.name}\n                    </span>\n                  ))}\n              </p>\n            </div>\n          </div>\n          <div className={s.links}>\n            <h3 className={s.info}>Aditional information</h3>\n            <Link state={{ from }} className={s.link} to={`/movies/${id}/cast`}>\n              Cast\n            </Link>\n            <Link\n              state={{ from }}\n              className={s.link}\n              to={`/movies/${id}/reviews`}\n            >\n              Reviews\n            </Link>\n          </div>\n          <div>\n            <Outlet />\n          </div>\n        </>\n      )}\n      {error && <p>{error}</p>}\n    </>\n  );\n};\n\nexport default MovieDetailsPage;\n"],"names":["api","axios","baseURL","params","api_key","IMG_URL","fetchTrending","get","parans","page","data","fetchMovieReviews","id","fetchMovieID","fechMovieByQuery","query","fetchMovieCast","useState","movie","loading","error","setData","useParams","navigate","useNavigate","location","useLocation","from","state","useEffect","fetchMovie","prev","message","poster_path","title","vote_average","overview","genres","className","s","onClick","src","alt","map","el","name","to"],"sourceRoot":""}