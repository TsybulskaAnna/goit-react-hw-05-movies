{"version":3,"file":"static/js/141.597edd18.chunk.js","mappings":"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","sources":["api/fetchAPI.js","webpack://react-homework-template/./src/components/ListItems/link.module.css?6ec1","components/ListItems/ListItems.jsx","webpack://react-homework-template/./src/components/MoviesSearchForm/search.module.css?0bd0","components/MoviesSearchForm/MoviesSearchForm.jsx","pages/MoviesPage/MoviesPage.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst api = axios.create({\n  baseURL: 'https://api.themoviedb.org/3/',\n  params: {\n    api_key: '45b0b261b921954ac82a34bd1131a569',\n  },\n});\n\nexport const fetchTrending = async () => {\n  const { data } = await api.get('/trending/all/day', {\n    parans: {\n      page: 1,\n    },\n  });\n  return data;\n};\nexport const fetchMovieReviews = async id => {\n  const { data } = await api.get(`/movie/${id}/reviews`);\n  return data;\n};\nexport const fetchMovieID = async id => {\n  const { data } = await api.get(`/movie/${id}`);\n  return data;\n};\nexport const fechMovieByQuery = async query => {\n  const { data } = await api.get(`search/movie/`, {\n    params: {\n      query,\n    },\n  });\n  return data;\n};\nexport const fetchMovieCast = async id => {\n  const { data } = await api.get(`/movie/${id}/credits`);\n  return data;\n};\n\n\n","// extracted by mini-css-extract-plugin\nexport default {\"link\":\"link_link__FSGQv\"};","import { Link, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport s from './link.module.css';\n\nconst ListItems = ({ movies }) => {\n  const location = useLocation();\n  const elements = movies.map(({ id, title, original_name }) => (\n    <li key={id} className={s.link}>\n      {title && (\n        <Link state={{ from: location }} to={`/movies/${id}`}>\n          {title}\n        </Link>\n      )}\n      {!title && (\n        <Link state={{ from: location }} to={`/movies/${id}`}>\n          {original_name}\n        </Link>\n      )}\n    </li>\n  ));\n  return <>{Boolean(movies.length) && <ul>{elements}</ul>}</>;\n};\n\nexport default ListItems;\n\nListItems.dafaultProps = {\n  movies: [],\n};\n\nListItems.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string,\n      original_name: PropTypes.string,\n    })\n  ),\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"search\":\"search_search__BXxCx\",\"input\":\"search_input__ecYcl\",\"button\":\"search_button__QCMOL\"};","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './search.module.css'\nconst MoviesSearchForm = ({ onSubmit }) => {\n  const [state, setState] = useState({\n    query: '',\n  });\n\n  const handleChange = ({ target }) => {\n    const { name, value } = target;\n    setState(prevState => ({\n      ...prevState,\n      [name]: value,\n    }));\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    onSubmit({ ...state });\n    setState({ query: '' });\n  };\n\n  return (\n    <>\n      <form action=\"\" className={s.search} onSubmit={handleSubmit}>\n        <input\n          value={state.query}\n          name=\"query\"\n          onChange={handleChange}\n          type=\"text\"\n          placeholder=\"Movie\"\n          className={s.input}\n        />\n        <button className={s.button}>Search</button>\n      </form>\n    </>\n  );\n};\n\nexport default MoviesSearchForm;\n\nMoviesSearchForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { fechMovieByQuery } from 'api/fetchAPI';\nimport MoviesSearchForm from 'components/MoviesSearchForm';\nimport ListItems from 'components/ListItems';\n\nconst MoviesPage = () => {\n  const [movies, setMovies] = useState({\n    items: [],\n    loading: false,\n    error: null,\n  });\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const onSubmit = ({ query }) => setSearchParams({ query });\n  const q = searchParams.get('query');\n\n  useEffect(() => {\n    const searchMovies = async () => {\n      setMovies(prev => ({ ...prev, loading: true }));\n      try {\n        const result = await fechMovieByQuery(q);\n        console.log(result.results);\n        setMovies(prev => ({\n          ...prev,\n          loading: false,\n          items: result.results,\n        }));\n      } catch (err) {\n        setMovies(prev => ({\n          ...prev,\n          loading: false,\n          error: err.message,\n        }));\n      }\n    };\n    if (q) {\n      searchMovies();\n    }\n  }, [q]);\n\n  const { items, loading, error } = movies;\n\n  return (\n    <>\n      <MoviesSearchForm onSubmit={onSubmit} />\n      {loading && <p>Loading...</p>}\n      <ListItems movies={items} />\n      {error && <p>{error}</p>}\n    </>\n  );\n};\n\nexport default MoviesPage;\n"],"names":["api","axios","baseURL","params","api_key","fetchTrending","get","parans","page","data","fetchMovieReviews","id","fetchMovieID","fechMovieByQuery","query","fetchMovieCast","ListItems","movies","location","useLocation","elements","map","title","original_name","className","s","state","from","to","Boolean","length","dafaultProps","onSubmit","useState","setState","action","event","preventDefault","value","name","onChange","target","prevState","type","placeholder","items","loading","error","setMovies","useSearchParams","searchParams","setSearchParams","q","useEffect","searchMovies","prev","result","console","log","results","message"],"sourceRoot":""}